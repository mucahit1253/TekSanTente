@model ProductDetailVm

<main class="main">
    <!-- Page Title -->
    <div class="page-title" data-aos="fade">
        <div class="heading">
            <div class="container">
                <div class="row d-flex justify-content-center text-center">
                    <div class="col-lg-8">
                        <h1>@Model.Product.Name</h1>
                    </div>
                </div>
            </div>
        </div>
        <nav class="breadcrumbs">
            <div class="container">
                <ol>
                    <li><a asp-controller="Home" asp-action="index">Home</a></li>
                    <li class="current">@Model.Product.Name</li>
                </ol>
            </div>
        </nav>
    </div><!-- End Page Title -->
    <!-- Real Estate 2 Section -->
    <section id="real-estate-2" class="real-estate-2 section">
        <div class="container" data-aos="fade-up">

            <div class="portfolio-details-slider swiper init-swiper">
                <script type="application/json" class="swiper-config">
                    {
                      "loop": true,
                      "speed": 600,
                      "autoplay": { "delay": 5000 },
                      "slidesPerView": "auto",
                      "navigation": { "nextEl": ".swiper-button-next", "prevEl": ".swiper-button-prev" },
                      "pagination": { "el": ".swiper-pagination", "type": "bullets", "clickable": true }
                    }
                </script>

                <div class="swiper-wrapper align-items-center">
                    @foreach (var img in Model.Images)   // artık liste üzerinde dönüyoruz
                    {
                        // img.Media.Url veya img.ImageUrl gibi gerçek yol alanını kullan
                        var src = img.Media?.Url ??  "assets/img/placeholder.png";
                        <div class="swiper-slide">
                            <img  src="@src" alt="@Model.Product.Name" />
                        </div>
                    }
                </div>

                @* Gerekirse ViewComponent'e productId gönder *@
                @* @await Component.InvokeAsync("ProductImg", new { productId = Model.Product.Id }) *@

                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>
            </div>

            <div class="row justify-content-between gy-4 mt-4">
                <div class="col-lg-8" data-aos="fade-up">
                    <div class="portfolio-description">
                        <p>@Model.Product.Comment</p>
                    </div>

                   @*  <ul class="nav nav-pills mb-3">
                        <li><a class="nav-link active" data-bs-toggle="pill" href="#real-estate-2-tab1">Video</a></li>
                        <li><a class="nav-link" data-bs-toggle="pill" href="#real-estate-2-tab2">Floor Plans</a></li>
                        <li><a class="nav-link" data-bs-toggle="pill" href="#real-estate-2-tab3">Location</a></li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="real-estate-2-tab1"></div>
                        <div class="tab-pane fade" id="real-estate-2-tab2">
                            <img src="assets/img/floor-plan.jpg" alt="" class="img-fluid" />
                        </div>
                        <div class="tab-pane fade" id="real-estate-2-tab3">
                            <!-- maps iframe -->
                        </div>
                    </div> *@
                </div>

                <div class="col-lg-3" data-aos="fade-up" data-aos-delay="100">
                    <div class="portfolio-info">
                        <h3>Hızlı Özet</h3>
                        <ul>
                            <li><strong>Ürün Adı</strong> @Model.Product.Name</li>
                            <li><strong>Alan</strong> <span>m<sup>2</sup></span></li>
                            <li><strong>Fiyatı</strong> @Model.Product.Price</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        @await Component.InvokeAsync("ProductFooterGet")
    </section>
</main>
